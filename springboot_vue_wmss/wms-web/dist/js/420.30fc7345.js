"use strict";(self["webpackChunkwms_web"]=self["webpackChunkwms_web"]||[]).push([[420],{81896:(e,t,o)=>{o.d(t,{A:()=>c});var r=function(){var e=this,t=e._self._c;return t("el-menu",{staticStyle:{height:"100%"},attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",collapse:e.isCollapse,"default-active":"/Home",router:""}},[t("el-menu-item",{attrs:{index:"/index"}},[t("i",{staticClass:"el-icon-s-home"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),t("el-menu-item",{attrs:{index:"/admin/AdminManage"}},[t("i",{staticClass:"el-icon-s-flag"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航一")])]),t("el-menu-item",{attrs:{index:"/user/UserManage"}},[t("i",{staticClass:"el-icon-s-opportunity"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航二")])])],1)},s=[];const a={name:"Aside",data:function(){return{}},props:{isCollapse:Boolean}},n=a;var l=o(81656),i=(0,l.A)(n,r,s,!1,null,"7294edf6",null);const c=i.exports},75552:(e,t,o)=>{o.d(t,{A:()=>c});o(62010);var r=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex","line-height":"60px"}},[t("div",[t("i",{class:e.icon,staticStyle:{"font-size":"20px"},on:{click:e.collapse}})]),e._m(0),t("el-dropdown",[t("span",[e._v(e._s(e.user.name))]),t("i",{staticClass:"el-icon-arrow-down",staticStyle:{"margin-left":"5px"}}),t("el-dropdown-menu",{attrs:{"slot:dropdown":""}},[t("el-dropdown-item",{nativeOn:{click:function(t){return e.toUser.apply(null,arguments)}}},[e._v("个人中心")]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.logout.apply(null,arguments)}}},[e._v("退出登录")])],1)],1)],1)},s=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{flex:"1","text-align":"center","font-size":"34px"}},[t("span",[e._v("欢迎来到仓库管理系统")])])}];o(44114),o(79432);const a={name:"Header",data:function(){return{user:JSON.parse(sessionStorage.getItem("CurUser"))}},props:{icon:String},methods:{toUser:function(){console.log("touser")},logout:function(){var e=this;console.log("logout"),this.$confirm("你确定要退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){e.$message({type:"success",message:"退出登录成功"}),e.$router.push("/"),sessionStorage.clear()}))["catch"]((function(){e.$message({type:"info",message:"取消退出登录"})}))},collapse:function(){this.$emit("doCollapse")}}},n=a;var l=o(81656),i=(0,l.A)(n,r,s,!1,null,"3a6151a0",null);const c=i.exports},59278:(e,t,o)=>{o.d(t,{A:()=>u});o(62010);var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-bottom":"5px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入名字","suffix-icon":"el-icon-search"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.loadPost}},[e._v("查询")]),t("el-button",{attrs:{type:"success"},on:{click:e.reset}},[e._v("重置")]),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.add}},[e._v("新增")])],1),t("el-table",{attrs:{data:e.tableData,"header-cell-style":{background:"#f2f5fc",color:"#eaa0a0"},border:""}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),t("el-table-column",{attrs:{prop:"no",label:"账号",width:"180"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),t("el-table-column",{attrs:{prop:"age",label:"年龄",width:"80"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别",width:"80"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:1===o.row.sex?"primary":"success","disable-transitions":""}},[e._v(e._s(1===o.row.sex?"男":"女"))])]}}])}),t("el-table-column",{attrs:{prop:"roleId",label:"角色",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:0===o.row.roleId?"danger":1===o.row.roleId?"primary":"success","disable-transitions":""}},[e._v(e._s(0===o.row.roleId?"超级管理员":1===o.row.roleId?"管理员":"用户"))])]}}])}),t("el-table-column",{attrs:{prop:"phone",label:"电话",width:"180"}}),t("el-table-column",{attrs:{prop:"operate",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.mod(o.row)}}},[e._v("编辑")]),t("el-popconfirm",{attrs:{title:"确定删除吗？"},on:{confirm:function(t){return e.del(o.row.id)}}},[t("el-button",{attrs:{slot:"reference",size:"small",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[2,5,10,15],"page-size":e.pageSize,layout:"total,sizes,prev, pager,next,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"账号",prop:"no"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.no,callback:function(t){e.$set(e.form,"no",t)},expression:"form.no"}})],1)],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),t("el-form-item",{attrs:{label:"年龄",prop:"age"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1)],1),t("el-form-item",{attrs:{label:"性别",prop:"sex"}},[t("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[t("el-radio",{attrs:{label:"1"}},[e._v("男")]),t("el-radio",{attrs:{label:"0"}},[e._v("女")])],1)],1),t("el-form-item",{attrs:{label:"电话",prop:"phone"}},[t("el-col",{attrs:{span:20}},[t("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确定")])],1)],1)],1)},s=[],a=(o(16280),o(76918),o(80919));const n={name:"Main",data:function(){var e=this,t=function(e,t,o){t>150?o(new Error("年龄输入过大")):o()},o=function(t,o,r){if(e.form.id)return r();e.$axios.get(e.$httpUrl+"/user/findByNo?no="+e.form.no).then((function(e){return e.data})).then((function(e){200==e.code?r(new Error("账号已经存在")):r()}))};return{user:{name:""},tableData:[],pageSize:2,pageNum:1,total:0,centerDialogVisible:!1,form:{no:"",name:"",password:"",age:"",phone:"",sex:"0",roleId:"1"},rules:{no:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:8,message:"长度在 3 到 8 个字符",trigger:"blur"},{validator:o,trigger:"blur"}],name:[{required:!0,message:"请输入名字",trigger:"blur"},{min:3,max:8,message:"长度在 3 到 8 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:8,message:"长度在 3 到 8 个字符",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{min:1,max:3,message:"长度在 1 到 3 个字符",trigger:"blur"},{pattern:/^([1-9][0-9]*){1,3}$/,message:"年龄必须为正整数字",trigger:"blur"},{validator:t,trigger:"blur"}],phone:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{resetForm:function(){this.$refs.form.resetFields()},del:function(e){var t=this;a.K.get("/user/del?id="+e).then((function(e){return e.data})).then((function(e){console.log(e),200===e.code?(t.$message({message:"操作成功",type:"success"}),t.loadPost()):t.$message({message:"操作失败",type:"error"})}))},mod:function(e){var t=this;this.centerDialogVisible=!0,this.$nextTick((function(){t.form.id=e.id,t.form.no=e.no,t.form.name=e.name,t.form.password="",t.form.age=e.age+"",t.form.sex=e.sex+"",t.form.phone=e.phone,t.form.roleId=e.roleId}))},add:function(){var e=this;this.centerDialogVisible=!0,this.$nextTick((function(){e.resetForm()}))},doMod:function(){var e=this;a.K.post("/user/update",this.form).then((function(e){return e.data})).then((function(t){console.log(t),200===t.code?(e.$message({message:"操作成功",type:"success"}),e.centerDialogVisible=!1,e.loadPost(),e.resetForm()):e.$message({message:"操作失败",type:"error"})}))},save:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.form.id?e.doMod():e.doSave(),a.K.post("/user/save",e.form).then((function(e){return e.data})).then((function(t){console.log(t),200===t.code?(e.$message({message:"操作成功",type:"success"}),e.centerDialogVisible=!1,e.loadPost(),e.resetForm()):e.$message({message:"操作失败",type:"error"})}))["catch"]((function(e){console.error("error",e)}))}))},handleSizeChange:function(e){console.log("每页".concat(e,"条")),this.pageNum=1,this.pageSize=e,this.loadPost()},handleCurrentChange:function(e){console.log("当前页".concat(e,"条")),this.pageNum=e,this.loadPost()},loadGet:function(){var e=this;this.$axios.get(this.$httpUrl+"/user/query").then((function(e){return e.data})).then((function(t){console.log(t),e.tableData=t}))["catch"]((function(e){console.error("error",e)}))},loadPost:function(){var e=this;a.K.post("/user/listpaging",{pageSize:this.pageSize,pageNum:this.pageNum,param:{name:this.user.name}}).then((function(e){return e.data})).then((function(t){console.log(t),200===t.code?(e.tableData=t.data.records,e.total=t.data.total):alert("获取数据失败")}))["catch"]((function(e){console.error("error",e)}))},reset:function(){this.user.name="",this.pageNum=1,this.loadPost()}},beforeMount:function(){this.loadPost()}},l=n;var i=o(81656),c=(0,i.A)(l,r,s,!1,null,"57f1ac56",null);const u=c.exports}}]);
//# sourceMappingURL=420.30fc7345.js.map