"use strict";(self["webpackChunkwms_web"]=self["webpackChunkwms_web"]||[]).push([[537],{24537:(e,o,t)=>{t.r(o),t.d(o,{default:()=>d});t(25276);var s=function(){var e=this,o=e._self._c;return o("div",{staticClass:"loginBody"},[o("div",{staticClass:"loginDiv"},[o("div",{staticClass:"login-content"},[o("h1",{staticClass:"login-title"},[e._v("用户登录")]),o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"账号",prop:"no"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",size:"small",placeholder:"Username"},model:{value:e.loginForm.no,callback:function(o){e.$set(e.loginForm,"no",o)},expression:"loginForm.no"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码"}},[o("el-input",{attrs:{"show-password":"",autocomplete:"off",size:"small",type:"password",placeholder:"Password"},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.confirm.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",disabled:e.confirm_disabled},on:{click:e.confirm}},[e._v("确定")])],1)],1)],1)])])},l=[],r=(t(60739),t(33110),t(27495),t(25440),t(13134));const n={name:"login",data:function(){return{confirm_disabled:!1,loginForm:{no:"",password:""},rules:{no:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{confirm:function(){var e=this;this.confirm_disabled=!0,this.$refs.loginForm.validate((function(o){o?r.A.post("http://localhost:8090/user/login",e.loginForm).then((function(e){return e.data})).then((function(o){console.log(o),200===o.code?(sessionStorage.setItem("CurUser",JSON.stringify(o.data)),e.$router.replace("/Index")):(e.confirm_disabled=!1,alert("校验失败，用户名或密码错误!"))}))["catch"]((function(){e.confirm_disabled=!1,alert("请求失败，请重试!")})):(e.confirm_disabled=!1,console.log("校验失败"))}))}}},i=n;var a=t(81656),c=(0,a.A)(i,s,l,!1,null,"f3692a20",null);const d=c.exports}}]);
//# sourceMappingURL=537.c9e3783a.js.map